<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCANDAL - $SCNDL Protocol</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="scanner-line"></div>

    <!-- HERO SECTION - Full Screen Landing -->
    <section class="hero-section" id="hero">
        <div class="hero-content">
            <div class="hero-protocol">PROTOCOL</div>
            <h1 class="hero-title">SCANDAL</h1>

            <!-- Main Message -->
            <h2 class="hero-headline">
                News move the supply.<br>
                Scandals burn tokens.
            </h2>

            <!-- Description -->
            <p class="hero-description">
                A sentiment-driven protocol where global headlines<br>
                automatically mint, burn, or pause token supply.
            </p>

            <!-- LIVE Oracle Status -->
            <div class="oracle-status-live">
                <div class="status-label">CURRENT ORACLE STATUS</div>
                <div class="status-display" id="heroOracleStatus">
                    <span class="status-icon">⚪</span>
                    <span class="status-action">LOADING</span>
                    <span class="status-percent">...</span>
                </div>
            </div>

            <!-- CTA Buttons -->
            <div class="hero-buttons">
                <a href="dashboard.html" class="hero-btn hero-btn-primary">ENTER DASHBOARD</a>
                <a href="litepaper.html" class="hero-btn hero-btn-secondary">READ LITEPAPER</a>
            </div>

            <!-- Footer Text -->
            <div class="hero-footer-text">
                Live oracle • real headlines • on-chain execution
            </div>
        </div>

        <!-- Explainer -->
        <div class="hero-explainer">
            Headlines are analyzed every cycle.<br>
            The Oracle decides: <span class="explainer-highlight">MINT • HOLD • BURN</span>
        </div>
    </section>

    <script>
        // Live Oracle Status Update
        async function updateHeroOracle() {
            try {
                const response = await fetch('/api/v2/round');
                const data = await response.json();

                // Use API's projected action and rate
                const status = data.projectedAction || 'HOLD';
                let rate = data.projectedRate || '0%';
                const colorClass = status.toLowerCase();

                // Add +/− prefix if not already present
                if (status === 'MINT' && !rate.startsWith('+')) {
                    rate = '+' + rate;
                } else if (status === 'BURN' && !rate.startsWith('−') && !rate.startsWith('-')) {
                    rate = '−' + rate;
                }

                const statusDisplay = document.getElementById('heroOracleStatus');
                statusDisplay.className = `status-display ${colorClass}`;
                statusDisplay.innerHTML = `
                    <span class="status-action">${status}</span>
                    <span class="status-percent">${rate} supply this cycle</span>
                `;
            } catch (error) {
                console.log('Oracle status update failed:', error);
                // Show fallback status
                document.getElementById('heroOracleStatus').innerHTML = `
                    <span class="status-action">STANDBY</span>
                    <span class="status-percent">Awaiting next cycle</span>
                `;
            }
        }

        // Update on load and every 15 seconds
        updateHeroOracle();
        setInterval(updateHeroOracle, 15000);
    </script>
</body>

</html>